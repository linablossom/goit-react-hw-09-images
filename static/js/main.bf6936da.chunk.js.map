{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Button/Button.js","components/Loader/Loader.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","state","value","this","setState","className","styled","SearchForm","onSubmit","e","preventDefault","props","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","onInputChange","target","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","images","onClick","webformatURL","tags","id","src","alt","ImageGalleryItemImage","width","height","ImageGallery","innerRef","Array","isArray","ref","map","image","Modal","onEsc","code","closeModal","document","addEventListener","removeEventListener","imageUrl","styles","Overlay","ModalImage","React","Button","ButtonContainer","Loader","LoaderContainer","color","App","data","page","query","showModal","activeImageId","loading","getImages","a","axios","get","response","hits","console","log","searchImages","keyword","loadMoreImages","openModal","dataset","imageid","galleryRef","createRef","current","offsetTop","scrollHeight","prevProps","prevState","snapshot","window","scrollTo","top","behavior","imageId","find","item","largeImageURL","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.bf6936da.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2qoWa\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3K8Z3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ButtonContainer\":\"Button_ButtonContainer__3M82t\",\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoaderContainer\":\"Loader_LoaderContainer__tjhEu\"};","import React, { Component } from \"react\";\nimport styled from \"./Searchbar.module.css\";\n\nclass Searchbar extends Component {\n  state = {\n    value: \"\",\n  };\n\n  onInputChange(value) {\n    this.setState({ value: value });\n  }\n\n  render() {\n    return (\n      <header className={styled.Searchbar}>\n        <form\n          className={styled.SearchForm}\n          onSubmit={(e) => {\n            e.preventDefault();\n            this.props.onSubmit(this.state.value);\n          }}\n        >\n          <button type=\"submit\" className={styled.SearchFormButton}>\n            <span className={styled.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styled.SearchFormInput}\n            onChange={(e) => this.onInputChange(e.target.value)}\n            value={this.state.value}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from \"react\";\nimport styled from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ images, onClick }) => {\n  const { webformatURL, tags, id } = images;\n  return (\n    <li className={styled.ImageGalleryItem}>\n      <img\n        data-imageid={id}\n        src={webformatURL}\n        alt={tags}\n        onClick={onClick}\n        className={styled.ImageGalleryItemImage}\n        width=\"300\"\n        height=\"200\"\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\nimport styled from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ images, onClick, innerRef }) => {\n  if (!Array.isArray(images)) {\n    return null;\n  }\n  return (\n    <ul className={styled.ImageGallery} ref={innerRef}>\n      {images.map((image) => {\n        return (\n          <ImageGalleryItem images={image} onClick={onClick} key={image.id} />\n        );\n      })}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport styles from \"./Modal.module.css\";\n\nclass Modal extends React.Component {\n  componentDidMount() {\n    document.addEventListener(\"keydown\", this.onEsc);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"keydown\", this.onEsc);\n  }\n\n  onEsc = (e) => {\n    if (e.code === \"Escape\") {\n      e.preventDefault();\n      this.props.closeModal();\n    }\n  };\n\n  render() {\n    const { imageUrl, closeModal } = this.props;\n\n    return (\n      <div className={styles.Overlay} onClick={closeModal}>\n        <div className={styles.Modal}>\n          <img className={styles.ModalImage} src={imageUrl} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import React from \"react\";\nimport styled from \"./Button.module.css\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <div className={styled.ButtonContainer}>\n      <button className={styled.Button} type=\"button\" onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nexport default Button;\n","import React from \"react\";\nimport LoaderSpinner from \"react-loader-spinner\";\nimport styles from \"./Loader.module.css\";\n\nconst Loader = () => {\n  return (\n    <div className={styles.LoaderContainer}>\n      <LoaderSpinner type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} />\n    </div>\n  );\n};\n\nexport default Loader;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Modal from \"./components/Modal/Modal\";\nimport Button from \"./components/Button/Button\";\nimport Loader from \"./components/Loader/Loader\";\nimport \"./App.css\";\n\nclass App extends Component {\n  state = {\n    data: [],\n    page: 1,\n    query: \"\",\n    showModal: false,\n    activeImageId: 0,\n    loading: false,\n  };\n\n  constructor(props) {\n    super(props);\n    this.galleryRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.getImages();\n  }\n\n  getSnapshotBeforeUpdate() {\n    if (this.galleryRef && this.galleryRef.current) {\n      return (\n        this.galleryRef.current.offsetTop +\n        this.galleryRef.current.scrollHeight -\n        70\n      );\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (\n      this.state.data !== prevState.data &&\n      this.state.page !== 1 &&\n      snapshot\n    ) {\n      window.scrollTo({\n        top: snapshot,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  getImages = async () => {\n    try {\n      this.setState({ loading: true });\n      const response = await axios.get(\n        `https://pixabay.com/api/?q=${this.state.query}&page=${this.state.page}&key=22358889-96b0c16e8ac0685cc0e479941&image_type=photo&orientation=horizontal&per_page=12`\n      );\n      this.setState({\n        data: [...this.state.data, ...response.data.hits],\n        loading: false,\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  searchImages = (keyword) => {\n    if (keyword) {\n      return this.setState(\n        { query: keyword, data: [], page: 1 },\n        this.getImages\n      );\n    }\n  };\n\n  loadMoreImages = () => {\n    this.setState(({ page }) => ({ page: page + 1 }), this.getImages);\n  };\n\n  openModal = (e) => {\n    const id = e.target.dataset.imageid;\n    this.setState({\n      showModal: true,\n      activeImageId: id,\n    });\n  };\n\n  closeModal = (e) => {\n    this.setState({\n      showModal: false,\n    });\n  };\n\n  render() {\n    const { data, showModal, activeImageId, loading } = this.state;\n    const imageId = data.find((item) => {\n      return +item.id === +activeImageId;\n    });\n\n    return (\n      <>\n        <Searchbar onSubmit={this.searchImages} />\n        {data ? (\n          <ImageGallery\n            innerRef={this.galleryRef}\n            images={data}\n            onClick={this.openModal}\n          />\n        ) : null}\n        {showModal && imageId && (\n          <Modal\n            imageUrl={imageId.largeImageURL}\n            closeModal={this.closeModal}\n          />\n        )}\n        {loading ? <Loader /> : <Button onClick={this.loadMoreImages} />}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\",\"ModalImage\":\"Modal_ModalImage__1MSl2\"};"],"sourceRoot":""}